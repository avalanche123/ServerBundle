<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns="http://www.symfony-project.org/schema/dic/services"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.symfony-project.org/schema/dic/services http://www.symfony-project.org/schema/dic/services/services-1.0.xsd">

  <parameters>
    <parameter key="daemon.http.class">Bundle\ServerBundle\Daemon\HttpDaemon</parameter>
    <parameter key="daemon.pid_file">%kernel.cache_dir%/server.pid</parameter>
    <parameter key="daemon.user" type="constant">null</parameter>
    <parameter key="daemon.group" type="constant">null</parameter>
    <parameter key="daemon.umask" type="constant">null</parameter>
  </parameters>

  <services>
    <service id="daemon.http" class="%daemon.http.class%">
      <argument type="service" id="server" />
      <argument>%daemon.pid_file%</argument>
      <argument>%daemon.user%</argument>
      <argument>%daemon.group%</argument>
      <argument>%daemon.umask%</argument>
    </service>

    <service id="daemon" alias="daemon.http" />
  </services>
</container>
